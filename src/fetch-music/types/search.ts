import type { SearchType } from '../qq'

export interface SearchResponse {
  "code": 0,
  "ts": 1683290492230,
  "start_ts": 1683290492038,
  "traceid": "082a0c502ec0b2a8",
  "req": {
    "code": 0,
    "data": {
      "body": {
        "album": {
          "list": []
        },
        "gedantip": {
          "tab": 0,
          "tip": ""
        },
        "mv": {
          "list": []
        },
        "qc": [],
        "singer": {
          "list": []
        },
        /** 单曲 */
        "song": {
          "list": [
            {
              "act": 3,
              "action": {
                "alert": 41,
                "icon2": 0,
                "icons": 1087750142,
                "msgdown": 0,
                "msgfav": 0,
                "msgid": 13,
                "msgpay": 6,
                "msgshare": 0,
                "switch": 16897793,
                "switch2": 0
              },
              "album": {
                "id": 56705,
                "mid": "000bviBl4FjTpO",
                "name": "跨时代",
                "pmid": "000bviBl4FjTpO_1",
                "subtitle": "",
                "time_public": "",
                "title": "跨时代"
              },
              "bpm": 66,
              "content": "",
              "desc": "",
              "desc_hilight": "",
              "docid": "6383622467894084201",
              "eq": 2,
              "es": "",
              "file": {
                "b_30s": 13888,
                "e_30s": 73888,
                "hires_bitdepth": 0,
                "hires_sample": 0,
                "media_mid": "001Zeo1P4a5j0v",
                "size_128mp3": 4127549,
                "size_192aac": 6254544,
                "size_192ogg": 5674116,
                "size_24aac": 0,
                "size_320mp3": 10318569,
                "size_360ra": [],
                "size_48aac": 1566332,
                "size_96aac": 3150635,
                "size_96ogg": 2938183,
                "size_ape": 0,
                "size_dolby": 0,
                "size_dts": 0,
                "size_flac": 28837379,
                "size_hires": 0,
                "size_new": [
                  178855460,
                  28229012,
                  72217465,
                  9673340
                ],
                "size_try": 960887,
                "try_begin": 72420,
                "try_end": 134205,
                "url": ""
              },
              "fnote": 4009,
              "genre": 0,
              "grp": [
                {
                  "act": 3,
                  "action": {
                    "alert": 11,
                    "icon2": 0,
                    "icons": 1075024456,
                    "msgdown": 0,
                    "msgfav": 0,
                    "msgid": 0,
                    "msgpay": 0,
                    "msgshare": 0,
                    "switch": 1130259,
                    "switch2": 0
                  },
                  "album": {
                    "id": 0,
                    "mid": "",
                    "name": "",
                    "pmid": "0030lak94GN5Ad_0",
                    "subtitle": "",
                    "time_public": "",
                    "title": ""
                  },
                  "bpm": 0,
                  "content": "",
                  "desc": "",
                  "desc_hilight": "",
                  "docid": "4982374008940522209",
                  "eq": 0,
                  "es": "",
                  "file": {
                    "b_30s": 0,
                    "e_30s": 0,
                    "hires_bitdepth": 0,
                    "hires_sample": 0,
                    "media_mid": "003m7Eoe4Hmpgm",
                    "size_128mp3": 899647,
                    "size_192aac": 0,
                    "size_192ogg": 0,
                    "size_24aac": 0,
                    "size_320mp3": 0,
                    "size_360ra": [],
                    "size_48aac": 341539,
                    "size_96aac": 679725,
                    "size_96ogg": 540087,
                    "size_ape": 0,
                    "size_dolby": 0,
                    "size_dts": 0,
                    "size_flac": 0,
                    "size_hires": 0,
                    "size_new": [
                      0,
                      0,
                      0,
                      0
                    ],
                    "size_try": 0,
                    "try_begin": 0,
                    "try_end": 0,
                    "url": ""
                  },
                  "fnote": 8013,
                  "genre": 0,
                  "grp": [],
                  "hotness": {
                    "desc": "",
                    "icon_url": "",
                    "jump_type": 0,
                    "jump_url": ""
                  },
                  "href3": "",
                  "id": 399935243,
                  "index_album": -31073,
                  "index_cd": 0,
                  "interval": 56,
                  "isonly": 0,
                  "ksong": {
                    "id": 71604474,
                    "mid": "000g2tzc2qksTu"
                  },
                  "label": "0",
                  "language": 0,
                  "lyric": "",
                  "lyric_hilight": "",
                  "mid": "003m7Eoe4Hmpgm",
                  "mv": {
                    "id": 0,
                    "name": "",
                    "title": "",
                    "vid": "",
                    "vt": 0
                  },
                  "name": "我落泪情绪零碎 (慢速版片段)",
                  "newStatus": 2,
                  "ov": 0,
                  "pay": {
                    "pay_down": 0,
                    "pay_month": 1,
                    "pay_play": 0,
                    "pay_status": 0,
                    "price_album": 0,
                    "price_track": 200,
                    "time_free": 0
                  },
                  "protect": 10,
                  "sa": 0,
                  "singer": [
                    {
                      "id": 0,
                      "mid": "",
                      "name": "周杰伦",
                      "pmid": "",
                      "title": "周杰伦",
                      "type": 0,
                      "uin": 0
                    }
                  ],
                  "status": 0,
                  "subtitle": "",
                  "tag": 10,
                  "tid": 0,
                  "time_public": "",
                  "title": "我落泪情绪零碎 (慢速版片段)",
                  "title_hilight": "我落泪情绪零碎 (慢速版片段)",
                  "type": 0,
                  "url": "",
                  "version": 0,
                  "volume": {
                    "gain": -9.684,
                    "lra": 0.906,
                    "peak": 1
                  },
                  "vs": [
                    "",
                    "004I9u3h3elkuU",
                    "",
                    "",
                    ""
                  ]
                }
              ],
              "hotness": {
                "desc": "",
                "icon_url": "",
                "jump_type": 0,
                "jump_url": ""
              },
              "href3": "",
              "id": 680284,
              "index_album": 8,
              "index_cd": 0,
              "interval": 257,
              "isonly": 0,
              "ksong": {
                "id": 20707,
                "mid": "002htfXb0Al236"
              },
              "label": "0",
              "language": 0,
              "lyric": "",
              "lyric_hilight": "",
              "mid": "0022b7OX2STU86",
              "mv": {
                "id": 665395,
                "name": "",
                "title": "",
                "vid": "t0019sebzuo",
                "vt": 0
              },
              "name": "我落泪情绪零碎",
              "newStatus": 2,
              "ov": 0,
              "pay": {
                "pay_down": 1,
                "pay_month": 1,
                "pay_play": 1,
                "pay_status": 0,
                "price_album": 0,
                "price_track": 200,
                "time_free": 0
              },
              "protect": 11,
              "sa": 17408,
              "singer": [
                {
                  "id": 4558,
                  "mid": "0025NhlN2yWrP4",
                  "name": "周杰伦",
                  "pmid": "",
                  "title": "周杰伦",
                  "type": 0,
                  "uin": 0
                }
              ],
              "status": 0,
              "subtitle": "",
              "tag": 11,
              "tid": 0,
              "time_public": "2010-05-18",
              "title": "我落泪情绪零碎",
              "title_hilight": "我落泪情绪零碎",
              "type": 0,
              "url": "",
              "version": 0,
              "volume": {
                "gain": -8.573,
                "lra": 6.776,
                "peak": 1
              },
              "vs": [
                "06012G2d0fn067",
                "",
                "",
                "001BNowc1BJi9r",
                "002nE5TD44kMpe"
              ]
            }
          ]
        },
        /** 歌单 */
        "songlist": {
          "list": [
            {
              "copyrightnum": 0,
              "createtime": "2018-04-01",
              "creator": {
                "avatarUrl": "",
                "creator_uin": "3239619075",
                "encrypt_uin": "oi-iNKC5NKnl7v**",
                "followflag": 0,
                "isVip": 0,
                "name": "歌单狂魔",
                "qq": 3239619075,
                "singerid": 0,
                "singermid": "",
                "type": 0
              },
              "diss_status": 400,
              "dissid": "3805603854",
              "dissname": "和周杰伦走过的23年，无与伦比",
              "docid": "3805603854",
              "imgurl": "http:\/\/qpic.y.qq.com\/music_cover\/gaSSCRswoq7NlpHA8vK1Ph5tXKxPzmHDlGSbrgD6gb8bPX0dg7kUvg\/300?n=1",
              "introduction": "23年过去了，“周杰伦”三个字依然是不变的信仰！\n歌单收集杰伦最全歌曲合集，所有关于杰伦的都值得我们聆听~",
              "listennum": 626507680,
              "modifytime": "2023-04-17",
              "song_count": 209
            }
          ]
        },
        "user": {
          "list": []
        },
        "zhida": {
          "list": [
            {
              "album_list": {
                "items": [
                  {
                    "id": 28791467,
                    "mid": "0042cH172YJ0mz",
                    "name": "最伟大的作品"
                  }
                ]
              },
              "custom_info": {
                "album_num": "36",
                "extra_desc": "3812.5万人关注",
                "flag": "",
                "grade": "1",
                "icon_type": "1",
                "is_follow": "0",
                "mid": "0025NhlN2yWrP4",
                "mv_num": "10339",
                "parent_ids": "4558",
                "song_num": "828",
                "tab_id": "song"
              },
              "desciption": "歌曲:828 专辑:36 视频:10339",
              "docid": "1:4558",
              "id": "4558",
              "jumpurl": "",
              "mid": "",
              "pic": "http:\/\/y.gtimg.cn\/music\/photo_new\/T001R150x150M0000025NhlN2yWrP4_8.jpg",
              "publish_date": "",
              "title": "歌手: 周杰伦",
              "track_list": {
                "items": [
                  {
                    "id": 97773,
                    "mid": "0039MnYb0qxYhV",
                    "name": "晴天"
                  }
                ]
              },
              "type": 1,
              "vid": "",
              "video_type": 0
            },
            {
              "album_list": {
                "items": []
              },
              "custom_info": {
                "channel_type": "10014",
                "flag": "",
                "play_count": "28万",
                "play_icon": "1"
              },
              "desciption": "112首  华语拾光机  28.0万次播放",
              "docid": "18:8847973377",
              "id": "8847973377",
              "jumpurl": "",
              "mid": "",
              "pic": "http:\/\/qpic.y.qq.com\/music_cover\/I28ic19Iwp8AicOQlxrIkEIvpp9rGe4EANqX0d1Pnwj04VqxiaPtotavw\/300?n=1",
              "publish_date": "",
              "title": "歌单: 杰威尔 | 你出现在我诗的每一页",
              "track_list": {
                "items": []
              },
              "type": 18,
              "vid": "",
              "video_type": 0
            }
          ]
        }
      },
      "code": 0,
      "feedbackURL": "",
      "meta": {
        "cid": "",
        "curpage": 1,
        "dir": "L",
        "display_order": [],
        "ein": 24,
        "estimate_sum": 31507,
        "expid": "14160003,14181006,14182003",
        "is_filter": 0,
        "next_page_start": {},
        "nextpage": 2,
        "perpage": 24,
        "query": "周杰伦",
        "result_trustworthy": 1,
        "ret": 0,
        "safetyType": 0,
        "safetyUrl": "",
        "searchid": "",
        "sid": "",
        "sin": 0,
        "sum": 795,
        "tab_list": [],
        "uid": "",
        "v": 0
      },
      "ver": 0
    }
  }
}

export type SongRecordRaw = SearchResponse['req']['data']['body']['song']['list'][0]

/** 单曲 */
export interface SongRecord {
  id: string
  title: string
  artist: string
  artist_id: string
  album: string
  album_id: string
  img_url: string
  source: string
  source_url: string
  url: string
}

export type SongListRecordRaw = SearchResponse['req']['data']['body']['songlist']['list'][0]

/** 歌单 */
export interface SongListRecord {
  id: string
  title: string
  source: string
  source_url: string
  img_url: string
  url: string
  author: string
  count: number
}

export type SearchResult = {
  page_num: number
  page_size: number
  total: number
} & ({
  type: SearchType.单曲
  list: SongRecord[]
} | {
  type: SearchType.歌单
  list: SongListRecord[]
})
